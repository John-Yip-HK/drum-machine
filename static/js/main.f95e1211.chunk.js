(this["webpackJsonpdrum-machine"]=this["webpackJsonpdrum-machine"]||[]).push([[0],{26:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),r=t(19),o=t.n(r),i=(t(26),t(34)),s=t(33),m=t(21),u=t(0),d=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(m.a,{id:"display",children:Object(u.jsx)("h3",{children:Object(u.jsx)("span",{id:"display-content",children:"\xa0"})})})})})},l=t(10),p=t(11),h=t(13),j=t(12),f=t(20),w={bankNum:0,powerOn:!0,volume:null,playingSwitcher:[],keys:["Q","W","E","A","S","D","Z","X","C"]},b=function(){var e=new Map;function n(e,n){this.audio_url=e,this.resource=new Audio(e),this.resource.volume=n}function t(e,t,a){this.channels=[],this.num=a,this.index=0;for(var c=0;c<a;++c)this.channels.push(new n(e,t))}n.prototype.play=function(){this.resource.currentTime=0,this.resource.play()},t.prototype.play=function(e){this.channels.forEach((function(n){return n.resource.volume=e})),this.channels[this.index++].play(),this.index=this.index<this.num?this.index:0},t.prototype.stop=function(){this.channels.forEach((function(e){e.resource.pause(),e.resource.currentTime=0}))};var a=[{name:"Heater 1",link:"https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"},{name:"Heater 2",link:"https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"},{name:"Heater 3",link:"https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"},{name:"Heater 4",link:"https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"},{name:"Clap",link:"https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3"},{name:"Open HH",link:"https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3"},{name:"Kick n' Hat",link:"https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"},{name:"Kick",link:"https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"},{name:"Closed HH",link:"https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3"}],c=[{name:"Chord 1",link:"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"},{name:"Chord 2",link:"https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"},{name:"Chord 3",link:"https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"},{name:"Shaker",link:"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"},{name:"Open HH",link:"https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3"},{name:"Closed HH",link:"https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3"},{name:"Punchy Kick",link:"https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3"},{name:"Side Stick",link:"https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3"},{name:"Snare",link:"https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3"}];return w.keys.forEach((function(n,r){var o=[a[r],c[r]];o.forEach((function(e){return e.switcher=new t(e.link,w.volume,1)})),e.set(n,o)})),e}();function y(e){var n=document.getElementById("display-content");document.querySelector(".drum-pad#".concat(e)).style.backgroundColor="#123456";var t=b.get(e)[w.bankNum],a=t.switcher.channels[0].resource.duration;n.innerHTML=t.name,w.playingSwitcher.push(t.switcher),t.switcher.play(w.volume),setTimeout((function(){return w.playingSwitcher.shift()}),1e4*a)}function O(e){w.powerOn&&w.keys.includes(e.key.toUpperCase())&&y(e.key.toUpperCase())}function k(e){w.powerOn&&e.target.className.includes("drum-pad")&&y(e.target.innerHTML)}function v(){var e,n=Object(f.a)(document.querySelectorAll(".drum-pad"));try{for(n.s();!(e=n.n()).done;){e.value.style.backgroundColor="#495057"}}catch(t){n.e(t)}finally{n.f()}}var g=function(e){Object(h.a)(t,e);var n=Object(j.a)(t);function t(){return Object(l.a)(this,t),n.apply(this,arguments)}return Object(p.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",O),document.addEventListener("keyup",v),document.addEventListener("pointerdown",k),document.addEventListener("pointerup",v)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",O),document.removeEventListener("keyup",v),document.removeEventListener("pointerdown",k),document.removeEventListener("pointerup",v)}},{key:"render",value:function(){var e=function(e,n){for(var t=[],a=e;a<n;++a){var c=w.keys[a];t.push(Object(u.jsx)(m.a,{className:"drum-pad",id:c,children:c},c))}return Object(u.jsx)(s.a,{children:t})};return Object(u.jsxs)(u.Fragment,{children:[e(0,3),e(3,6),e(6,9)]})}}]),t}(a.Component),x=t(8),H=t(35);function E(){w.bankNum=0===w.bankNum?1:0,document.getElementById("display-content").innerHTML=0===w.bankNum?"Heater Kit":"Piano Kit",S()}function C(e){w.volume=1*e/100}function S(){w.playingSwitcher.forEach((function(e){return e.stop()})),w.playingSwitcher=[]}function L(){w.powerOn&&setTimeout((function(){return document.getElementById("display-content").innerHTML="&nbsp"}),300)}var _=function(e){Object(h.a)(t,e);var n=Object(j.a)(t);function t(e){var a;return Object(l.a)(this,t),(a=n.call(this,e)).updatePowerSwitch=a.updatePowerSwitch.bind(Object(x.a)(a)),a.powerOnChangeHandler=a.powerOnChangeHandler.bind(Object(x.a)(a)),a.updateVolume=a.updateVolume.bind(Object(x.a)(a)),a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.updatePowerSwitch(w.powerOn),C(document.getElementById("volume-range").value),document.getElementById("volume-range").addEventListener("pointerup",L)}},{key:"updatePowerSwitch",value:function(e){document.getElementById("power-switch").checked=e}},{key:"powerOnChangeHandler",value:function(){w.powerOn=!w.powerOn,w.powerOn?C(document.getElementById("volume-range").value):(document.getElementById("display-content").innerHTML="&nbsp",C(0)),S(),this.updatePowerSwitch(w.powerOn)}},{key:"updateVolume",value:function(){C(document.getElementById("volume-range").value),w.powerOn&&(document.getElementById("display-content").innerHTML="Volume: ".concat(document.getElementById("volume-range").value))}},{key:"componentWillUnmount",value:function(){document.getElementById("volume-range").removeEventListener("pointerup",L)}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(s.a,{children:[Object(u.jsx)(m.a,{children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H.a.Switch,{className:"form-switch-sm form-switch-md",id:"power-switch",onChange:this.powerOnChangeHandler}),Object(u.jsx)(H.a.Label,{htmlFor:"power-switch",children:"Power"})]})}),Object(u.jsx)(m.a,{children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H.a.Switch,{className:"form-switch-sm form-switch-md",id:"bank-switch",onChange:E}),Object(u.jsx)(H.a.Label,{htmlFor:"bank-switch",children:"Bank"})]})})]}),Object(u.jsx)(s.a,{children:Object(u.jsx)(m.a,{children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H.a.Range,{id:"volume-range",onChange:this.updateVolume}),Object(u.jsx)(H.a.Label,{htmlFor:"volume-range",children:"Volume"})]})})})]})}}]),t}(a.Component);t(30),t(31);var z=function(){return Object(u.jsx)(i.a,{fluid:!0,id:"outer-container",children:Object(u.jsxs)(i.a,{id:"drum-machine",children:[Object(u.jsx)(s.a,{id:"disp-ctrl",children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(d,{}),Object(u.jsx)(_,{})]})},"disp-ctrl"),Object(u.jsx)(s.a,{id:"keypad",children:Object(u.jsx)(i.a,{id:"drum-pads",children:Object(u.jsx)(g,{})})},"keypad")]})})},B=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,36)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(z,{})}),document.getElementById("root")),B()}},[[32,1,2]]]);
//# sourceMappingURL=main.f95e1211.chunk.js.map